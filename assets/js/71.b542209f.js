(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{367:function(t,a,s){"use strict";s.r(a);var n=s(4),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"小程序开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序开发"}},[t._v("#")]),t._v(" 小程序开发")]),t._v(" "),a("h2",{attrs:{id:"wxml和html的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxml和html的区别"}},[t._v("#")]),t._v(" WXML和HTML的区别")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("标签名称不同")]),t._v(" "),a("p",[t._v("HTML（div, span, img, a)")]),t._v(" "),a("p",[t._v("WXML(view, text, image, navigator)")])]),t._v(" "),a("li",[a("p",[t._v("属性节点不同")]),t._v(" "),a("p",[a("code",[t._v('<a href="#">超链接</a>')])]),t._v(" "),a("p",[a("code",[t._v('<navigator url="/page/home/home"></navigator>')])])]),t._v(" "),a("li",[a("p",[t._v("提供了类似于Vue中的模板语法")]),t._v(" "),a("p",[t._v("数据绑定")]),t._v(" "),a("p",[t._v("列表渲染")]),t._v(" "),a("p",[t._v("条件渲染")])])]),t._v(" "),a("h2",{attrs:{id:"什么是wxss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是wxss"}},[t._v("#")]),t._v(" 什么是WXSS")]),t._v(" "),a("p",[t._v("WXSS（weixin style sheets）是一套样式语言，用于描述WXML的组件样式，类似于网页开发中的CSS")]),t._v(" "),a("h2",{attrs:{id:"wxss和css的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxss和css的区别"}},[t._v("#")]),t._v(" WXSS和CSS的区别")]),t._v(" "),a("p",[t._v("1.新增了rpx尺寸单位")]),t._v(" "),a("ul",[a("li",[t._v("css中需要手动进行像素单位换算，例如rem")]),t._v(" "),a("li",[t._v("WXSS在底层支持新的尺寸rpx，在不同大小的屏幕上小程序会自动进行换算")])]),t._v(" "),a("p",[t._v("2.提供了全局的样式和局部样式")]),t._v(" "),a("ul",[a("li",[t._v("项目根目录中的app.wxss会作用于所有小程序页面")]),t._v(" "),a("li",[t._v("局部页面的.wxss仅对当前页面生效")])]),t._v(" "),a("p",[t._v("3.WXSS仅支持部分CSS选择器\n不要使用生僻的选择器")]),t._v(" "),a("ul",[a("li",[t._v(".class和#id")]),t._v(" "),a("li",[t._v("element")]),t._v(" "),a("li",[t._v("并集选择器、后代选择器")]),t._v(" "),a("li",[t._v("::after和::before等伪类选择器")])]),t._v(" "),a("h2",{attrs:{id:"小程序中的-js文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序中的-js文件"}},[t._v("#")]),t._v(" 小程序中的.js文件")]),t._v(" "),a("p",[t._v("通过使用.js文件来处理用户的操作\n1.app.js")]),t._v(" "),a("ul",[a("li",[t._v("是整个小程序项目的入口，通过调用App()函数来启动整个小程序")])]),t._v(" "),a("p",[t._v("2.页面的.js文件")]),t._v(" "),a("ul",[a("li",[t._v("是页面的入口文件，通过调用Page()函数来创建并运行页面")])]),t._v(" "),a("p",[t._v("3.普通的.js文件")]),t._v(" "),a("ul",[a("li",[t._v("是普通的功能模块文件，用来封装公共的函数或属性供页面使用")])]),t._v(" "),a("h2",{attrs:{id:"小程序的宿主环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序的宿主环境"}},[t._v("#")]),t._v(" 小程序的宿主环境")]),t._v(" "),a("p",[t._v("小程序的宿主环境是手机微信")]),t._v(" "),a("h2",{attrs:{id:"通信模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通信模型"}},[t._v("#")]),t._v(" 通信模型")]),t._v(" "),a("p",[t._v("1.通信的主体\n小程序中通信的主体是渲染层和逻辑层，其中：")]),t._v(" "),a("ul",[a("li",[t._v("WXML模板和WXSS工作在渲染层")]),t._v(" "),a("li",[t._v("JS脚本工作在逻辑层")])]),t._v(" "),a("p",[t._v("2.通信模型\n分为两部分：\n1.渲染层和逻辑层之间的通信")]),t._v(" "),a("ul",[a("li",[t._v("由微信客户端进行转发")])]),t._v(" "),a("p",[t._v("2.逻辑层和第三方服务器之间的通信")]),t._v(" "),a("ul",[a("li",[t._v("由微信客户端进行转发")])]),t._v(" "),a("h2",{attrs:{id:"运行机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行机制"}},[t._v("#")]),t._v(" 运行机制")]),t._v(" "),a("p",[t._v("启动的过程\n1.把小程序的代码包下载到本地\n2.解析app.json全局配置文件\n3.执行app.js小程序入口文件，调用App()创建小程序实例\n4.渲染小程序首页\n5.小程序启动完成")]),t._v(" "),a("p",[t._v("页面渲染过程\n1.加载解析页面的.json配置文件\n2.加载页面的.wxml模板和.wxss样式\n3.执行页面的.js文件，调用Page()创建页面实例\n4.页面渲染完成")]),t._v(" "),a("h2",{attrs:{id:"组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件"}},[t._v("#")]),t._v(" 组件")]),t._v(" "),a("p",[t._v("官方把小程序的组件分为了9大类：\n1.视图容器\nview:普通视图区域，类似于HTML中的div，块级元素，常用来实现页面的布局效果\nscroll-view:可滚动的视图区域，常用来实现滚动列表效果\nswiper和swiper-item:轮播图容器组件和轮播图item组件")]),t._v(" "),a("p",[t._v("2.基础内容\ntext:文本组件，类似于HTML中的span标签，是一个行内元素\nrich-text:富文本组件，支持把HTML字符串渲染为WXML结构，用到的地方有商品详情页等，服务器给来的是html代码")]),t._v(" "),a("p",[t._v("3.表单组件\n4.导航组件\n5.媒体组件\n6.map地图组件\n7.canvas画布组件\n8.开放能力\n9.无障碍访问")]),t._v(" "),a("p",[t._v("其他常用组件\nbutton:按钮组件，功能比html中的button按钮丰富，通过open-type属性可以调用微信提供的各种功能（客服、转发、获取用户授权、获取用户信息等）\nimage:图片组件，image组件默认宽度30px、高度约为240px")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230829223651966","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230829223651966.png",loading:"lazy"}}),t._v("navigator：页面导航组件，类似于HTML中的a链接")]),t._v(" "),a("p",[t._v("swiper组件的常用属性：")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230829220501213.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"小程序api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序api"}},[t._v("#")]),t._v(" 小程序API")]),t._v(" "),a("p",[t._v("1.事件监听API\n特点：以on开头，用来监听某些事件的触发\n举例：wx.onWindowResize(function callback)监听窗口尺寸变化的事件")]),t._v(" "),a("p",[t._v("2.同步API\n特点1：以Sync结尾的API都是同步API\n特点2：同步API的执行结果，可以通过函数返回值直接获取，如果执行出错会抛出异常\n举例：wx.setStorageSync('key', 'value')向本地存储中写入内容")]),t._v(" "),a("p",[t._v("3.异步API\n特点：类似于jQuery中的$.ajax(options)函数，需要通过success、fail、complete接收调用的结果\n举例：wx.request()发起网络数据请求，通过success回调函数接收数据")]),t._v(" "),a("h2",{attrs:{id:"协同工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#协同工作"}},[t._v("#")]),t._v(" 协同工作")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230830081928891","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230830081928891.png",loading:"lazy"}}),t._v(" "),a("img",{staticClass:"lazy",attrs:{alt:"image-20230830081944626","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230830081944626.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("小程序的版本\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230830082049275","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230830082049275.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"小程序中常用的事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序中常用的事件"}},[t._v("#")]),t._v(" 小程序中常用的事件")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230830164209731","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230830164209731.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("事件对象的属性列表")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230830164538842","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230830164538842.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("其中target和currentTarget的区别\ntarget是触发该事件的源头组件，而currentTarget则是当前事件所绑定的组件，举例如下：")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230830165204664","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230830165204664.png",loading:"lazy"}}),t._v("\n点击内部的按钮时，点击事件以冒泡的方式向外扩散，也会触发外层view的tap事件处理函数。\n此时，对于外层的view来说：\ne.target指向的是触发事件的源头组件，因此e.target是内部的按钮组件\ne.curentTarget指向的是当前正在触发事件的那个组件，因此，e.currentTarget是当前的view组件")]),t._v(" "),a("h2",{attrs:{id:"bindtap的语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bindtap的语法格式"}},[t._v("#")]),t._v(" bindtap的语法格式")]),t._v(" "),a("p",[t._v("在小程序中不存在HTML中的onclick鼠标点击事件，而是通过tap事件来响应用户的触摸行为\n1.通过bindtap，可以为组件绑定tap触摸事件，语法如下：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btnTapHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("按钮"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("2.在页面的.js文件中定义对应的事件处理函数，事件参数通过形参event（一般写成e）来接收：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("Page({\n\tbtnTapHandler(e){\t//按钮的tap事件处理函数\n\t\tconsole.log(e)\t//事件参数对象e\n\t}\n})\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"事件传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件传参"}},[t._v("#")]),t._v(" 事件传参")]),t._v(" "),a("p",[t._v("小程序中的事件传参比较特殊，不能在绑定事件的同时为事件处理函数传递参数，例如下面的代码将无法正常工作：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btnTapHandler(123)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("事件传参"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("可以为组件提供data-"),a("em",[t._v("自定义属性传参，其中")]),t._v("代表的是参数的名字，示例如下：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 可通过e.target.dataset.*获取参数的值--\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btnTapHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-info")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{2}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("事件传参"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"bindinput的语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bindinput的语法格式"}},[t._v("#")]),t._v(" bindinput的语法格式")]),t._v(" "),a("p",[t._v("在小程序中，通过input事件来响应文本框的输入事件，语法格式如下：\n1.通过bindinput，可以为文本框绑定输入事件：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindinput")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("inputHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("input")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("2.在页面的.js文件中定义事件处理函数： // 定义文本框输入事件")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inputHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// e.detail.value 是变化过后，文本框最新的值")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"条件渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#条件渲染"}},[t._v("#")]),t._v(" 条件渲染")]),t._v(" "),a("p",[t._v('使用wx: if="{{}}"语法，可以掌握当前view是否渲染出来。使用'),a("block"),t._v("还可以包裹多个view且本身不会被渲染\n使用hidden也能起到wx: if的作用，条件控制是否渲染")],1),t._v(" "),a("p",[t._v("wx: if 以动态创建和移除元素的方式，控制元素的展示与隐藏\nhidden: 以切换样式的方式，控制元素的显示与隐藏")]),t._v(" "),a("p",[t._v("使用建议：\n频繁切换时，建议使用hidden\n控制条件复杂时，建议使用wx:if 搭配wx:elif、wx:else进行展示与隐藏的切换")]),t._v(" "),a("h2",{attrs:{id:"列表渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列表渲染"}},[t._v("#")]),t._v(" 列表渲染")]),t._v(" "),a("p",[t._v("通过wx:for可以根据指定的数组，循环渲染重复的组件结构，语法示例如下：")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{array}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n 索引是： {{index}} 当前项是：{{item}}\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v('默认情况下，当前循环项的索引用index表示，当前循环项用item表示，可以使用wx:for-index="**"'),a("em",[t._v('和wx:for-item="')]),t._v('"来指定index和item的名字')]),t._v(" "),a("p",[t._v("类似于Vue中的列表渲染中的key，小程序在实现列表渲染时，也建议为渲染出来的列表项指定唯一的key值(没有key时可以默认为index)，从而提高渲染的效率，示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- wxml结构 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{userList}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{item.name}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"wxss模板样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxss模板样式"}},[t._v("#")]),t._v(" wxss模板样式")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是wxss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是wxss"}},[t._v("#")]),t._v(" 1.什么是wxss")]),t._v(" "),a("p",[t._v("wxss是一套样式语言，用于美化wxml的组件样式，类似于网页开发中的css")]),t._v(" "),a("h3",{attrs:{id:"_2-wxss和css的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-wxss和css的关系"}},[t._v("#")]),t._v(" 2.wxss和css的关系")]),t._v(" "),a("p",[t._v("wxss具有css大部分特性，同时wxss还对css进行了扩充以及修改，以适应微信小程序的开发。\n与css相比，wxss扩展的特性有：")]),t._v(" "),a("ul",[a("li",[t._v("rpx尺寸单位")]),t._v(" "),a("li",[t._v("@import样式导入")])]),t._v(" "),a("h3",{attrs:{id:"_3-什么是rpx尺寸单位"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-什么是rpx尺寸单位"}},[t._v("#")]),t._v(" 3.什么是rpx尺寸单位")]),t._v(" "),a("p",[t._v("rpx是微信小程序独有的，用来解决屏适配的尺寸单位")]),t._v(" "),a("h3",{attrs:{id:"_4-rpx的实现原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-rpx的实现原理"}},[t._v("#")]),t._v(" 4.rpx的实现原理")]),t._v(" "),a("p",[t._v("rpx的实现原理非常简单：鉴于不同设备屏幕的大小不同，为了实现屏幕的自动适配，rpx把所有设备的屏幕，在宽度上等分为750份(即：当前屏幕的总宽度为750rpx)。")]),t._v(" "),a("ul",[a("li",[t._v("在较小的设备上，1rpx所代表的宽度较小")]),t._v(" "),a("li",[t._v("在较大的设备上，1rpx所代表的宽度较大")])]),t._v(" "),a("p",[t._v("小程序在不同设备上运行时，会自动把rpx的样式单位换算成对应的像素单位来渲染，从而实现屏幕适配")]),t._v(" "),a("h2",{attrs:{id:"样式导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式导入"}},[t._v("#")]),t._v(" 样式导入")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是样式导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是样式导入"}},[t._v("#")]),t._v(" 1.什么是样式导入")]),t._v(" "),a("p",[t._v("使用wxss提供的@import语法，可以导入外联的样式表")]),t._v(" "),a("h3",{attrs:{id:"_2-import的语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-import的语法格式"}},[t._v("#")]),t._v(" 2.@import的语法格式")]),t._v(" "),a("p",[t._v("@import后跟需要导入的外联样式表的相对路径，用；表示语句结束")]),t._v(" "),a("h2",{attrs:{id:"全局样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局样式"}},[t._v("#")]),t._v(" 全局样式")]),t._v(" "),a("p",[t._v("定义在app.wxss中的样式称为全局样式，作用于每个页面")]),t._v(" "),a("h2",{attrs:{id:"局部样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#局部样式"}},[t._v("#")]),t._v(" 局部样式")]),t._v(" "),a("p",[t._v("在页面的.wxss文件中定义的样式称为局部样式，只作用于当前页面\n注意：\n1.当局部样式和全局样式冲突时，根据就近原则，局部样式会覆盖全局样式\n2.当局部样式的权重大于或等于全局样式的权重时，才会覆盖全局的样式")]),t._v(" "),a("h2",{attrs:{id:"全局配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局配置"}},[t._v("#")]),t._v(" 全局配置")]),t._v(" "),a("p",[t._v("小程序根目录下的app.json文件是小程序的全局配置文件。常用的配置项如下：\n1.pages\n记录当前小程序所有页面的存放路径\n2.window\n全局设置小程序窗口的外观\n3.tabBar\n设置小程序底部的tabBar效果\n4.style\n是否启用新版的组件样式")]),t._v(" "),a("p",[t._v("了解window节点常用的配置项")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230831225251853","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230831225251853.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("全局开启下拉刷新的功能\n概念：下拉刷新是移动端的专有名词，指的是通过手指在屏幕上的下拉滑动操作，从而重新加载页面数据的行为\n设置步骤：app.json->window->把enablePullDownRefresh的值设置为true\napp.json->window->backgroundColor设置下拉刷新时背景\napp.json->window->backgroundTextStyle指定dark值，设置下拉刷新时loading的样式")]),t._v(" "),a("p",[t._v("注意：在app.json开启后会作用于每个小程序页面")]),t._v(" "),a("p",[t._v("设置上拉触底的距离\n概念：上拉触底是移动端的专有名词，通过手指在屏幕上的上拉滑动操作，从而加载更多数据的行为\n设置步骤：app.json->window->为onReachBottomDistance设置新的数值")]),t._v(" "),a("p",[t._v("注意：默认距离为50px，如果没有特殊需求，建议使用默认值即可")]),t._v(" "),a("h3",{attrs:{id:"tabar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tabar"}},[t._v("#")]),t._v(" taBar")]),t._v(" "),a("p",[t._v("tabar是移动端应用常见的页面效果，用于实现多页面的快速切换。小程序中通常将其分为：")]),t._v(" "),a("ul",[a("li",[t._v("底部taBar")]),t._v(" "),a("li",[t._v("顶部taBar")])]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),a("ul",[a("li",[t._v("taBar中只能配置最少2个、最多5个tab页签")]),t._v(" "),a("li",[t._v("当渲染顶部taBar时，不显示icon，只显示文本")])]),t._v(" "),a("p",[t._v("taBar的6个组成部分")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230831231604026","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230831231604026.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("taBar节点的配置项\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230831231706036","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230831231706036.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("每个tab项的配置选项\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230831231826735","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230831231826735.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"页面配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面配置"}},[t._v("#")]),t._v(" 页面配置")]),t._v(" "),a("p",[t._v('小程序中，app.json中的window节点，可以全局配置小程序中每个页面的窗口表现。如果某些小程序页面想要拥有特殊的窗口表现，此时，"页面级别的.json配置文件"就可以实现这种需求')]),t._v(" "),a("p",[t._v("注意：当页面配置与全局配置冲突时，根据就近原则，最终的效果以页面配置为准")]),t._v(" "),a("h3",{attrs:{id:"页面配置中常用的配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面配置中常用的配置项"}},[t._v("#")]),t._v(" 页面配置中常用的配置项")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230901093238712","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230901093238712.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"网络数据请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络数据请求"}},[t._v("#")]),t._v(" 网络数据请求")]),t._v(" "),a("p",[t._v("出于安全性方面的考虑，小程序官方对数据接口的请求做出了如下两个限制：")]),t._v(" "),a("p",[t._v("1.只能请求HTTPS类型的接口\n2.必须将接口的域名添加到信任列表中")]),t._v(" "),a("p",[t._v("配置步骤：登录微信小程序管理后台->开发->开发设置->服务器域名->修改request合法域名")]),t._v(" "),a("p",[t._v("注意事项：\n1.域名只支持https协议\n2.域名不能使用IP地址或localhost\n3.域名必须经过ICP备案\n4.服务器域名一个月内最多可申请5次修改")]),t._v(" "),a("h3",{attrs:{id:"发起get请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发起get请求"}},[t._v("#")]),t._v(" 发起GET请求")]),t._v(" "),a("p",[t._v("调用微信小程序的wx.request()方法，可以发起GET数据请求，示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发起GET数据请求")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.escook.cn/api/get'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n​    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n​    age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n​    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h3",{attrs:{id:"发起post请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发起post请求"}},[t._v("#")]),t._v(" 发起POST请求")]),t._v(" "),a("p",[t._v("调用微信小程序提供的wx.request()方法，可以发起POST数据请求，示例代码如下：")]),t._v(" "),a("h3",{attrs:{id:"在页面刚加载时请求数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在页面刚加载时请求数据"}},[t._v("#")]),t._v(" 在页面刚加载时请求数据")]),t._v(" "),a("p",[t._v("在很多情况下，我们需要在页面刚加载的时候，请求一些初始化的数据。此时需要在页面的onLoad事件中调用获取数据的函数，示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n  \\* 生命周期函数--监听页面加载\n  */")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("postInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"跳过request合法域名校验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跳过request合法域名校验"}},[t._v("#")]),t._v(" 跳过request合法域名校验")]),t._v(" "),a("p",[t._v("如果后端程序员仅仅提供了http协议的接口，暂时没有提供https协议的接口，此时为了不耽误开发进度，我们可以在微信开发者工具中临时开启[开发环境不校验请求域名，TLS版本以及HTTPS证书]选项，跳过request合法域名的校验")]),t._v(" "),a("p",[t._v("注意：跳过request合法域名校验的选项，仅限在开发与调试阶段使用！")]),t._v(" "),a("h3",{attrs:{id:"关于跨域和ajax的说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于跨域和ajax的说明"}},[t._v("#")]),t._v(" 关于跨域和Ajax的说明")]),t._v(" "),a("p",[t._v('小程序不存在跨域的问题，跨域只存在基于浏览器的Web开发中\nAjax技术同样，小程序叫做"发起网络数据请求"')]),t._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230901212910653","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230901212910653.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"页面导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面导航"}},[t._v("#")]),t._v(" 页面导航")]),t._v(" "),a("h3",{attrs:{id:"什么是页面导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是页面导航"}},[t._v("#")]),t._v(" 什么是页面导航")]),t._v(" "),a("p",[t._v("页面导航指的是页面之间的互相跳转。例如，浏览器中实现页面导航的方式有如下两种：\n1."),a("code",[t._v("<a>")]),t._v("链接\n2.location.href")]),t._v(" "),a("p",[t._v("2.小程序中实现页面导航的两种方式\n1）声明式导航\n在页面上声明一个"),a("code",[t._v("<navigator>")]),t._v("导航组件\n通过点击"),a("code",[t._v("<navigator>")]),t._v("组件实现页面跳转")]),t._v(" "),a("p",[t._v("2）编程式导航\n调用小程序的导航API，实现页面跳转")]),t._v(" "),a("h4",{attrs:{id:"声明式导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#声明式导航"}},[t._v("#")]),t._v(" 声明式导航")]),t._v(" "),a("p",[t._v("1.导航到taBar页面\ntaBar页面指的是被配置为taBar的页面。\n在使用"),a("code",[t._v("<navigator>")]),t._v("组件跳转到指定的tabBar页面时，需要指定url属性和open-type属性，其中：")]),t._v(" "),a("ul",[a("li",[t._v("url表示要跳转的页面的地址，必须以/开头")]),t._v(" "),a("li",[t._v("open-type表示跳转的方式，必须为switchTab")])]),t._v(" "),a("p",[t._v("2.导航到非taBar页面\n非taBar页面指的是没有被配置为taBar的页面。\n在使用"),a("code",[t._v("<navigator>")]),t._v("组件跳转到普通的非taBar页面时，则需要指定url属性和open-type属性，其中：")]),t._v(" "),a("ul",[a("li",[t._v("url表示要跳转的页面的地址，必须以/开头")]),t._v(" "),a("li",[t._v("open-type表示跳转的方式，必须为navigate")])]),t._v(" "),a("p",[t._v("3.后退导航\n如果要后退到上一页面或多级页面，则需要指定open-type属性和delta属性，其中：")]),t._v(" "),a("ul",[a("li",[t._v("open-type的值必须是navigateBack，表示要进行后退导航")]),t._v(" "),a("li",[t._v("delta的值必须是数字，表示要后退的层级（默认为1）")])]),t._v(" "),a("h4",{attrs:{id:"编程式导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编程式导航"}},[t._v("#")]),t._v(" 编程式导航")]),t._v(" "),a("p",[t._v("1.导航到taBar页面\n调用wx.switchTab(Object object)方法，可以跳转到taBar页面。其中Object参数对象的属性列表如下：\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230902213116992","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230902213116992.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("2.导航到非taBar页面\n调用wx.navigateTo(Object object)方法，可以跳转到非taBar的页面。其中Object参数对象的属性列表如下：")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230902213607320","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230902213607320.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("3.后退导航\n调用wx.navigateBack(Object object)方法，可以返回上一页面。其中Object参数对象可选的属性列表如下：\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230902213929870","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230902213929870.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"导航传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导航传参"}},[t._v("#")]),t._v(" 导航传参")]),t._v(" "),a("h4",{attrs:{id:"_1-声明式导航传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-声明式导航传参"}},[t._v("#")]),t._v(" 1.声明式导航传参")]),t._v(" "),a("p",[t._v("navigator组件的url属性用来指定将要跳转到的页面的路径。同时，路径的后面还可以携带参数：")]),t._v(" "),a("ul",[a("li",[t._v("参数与路径之间使用？分隔")]),t._v(" "),a("li",[t._v("参数键与参数值用=相连")]),t._v(" "),a("li",[t._v("不同参数用&分隔")])]),t._v(" "),a("h4",{attrs:{id:"_2-编程式导航传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-编程式导航传参"}},[t._v("#")]),t._v(" 2.编程式导航传参")]),t._v(" "),a("p",[t._v("调用wx.navigateTo(Object object)方法跳转页面时，也可以携带参数")]),t._v(" "),a("h4",{attrs:{id:"_3-在onload中接收导航参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-在onload中接收导航参数"}},[t._v("#")]),t._v(" 3.在onLoad中接收导航参数")]),t._v(" "),a("p",[t._v("通过声明式导航传参或编程式导航传参所携带的参数，可以直接在onLoad事件中直接获取到")]),t._v(" "),a("h2",{attrs:{id:"下拉刷新事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下拉刷新事件"}},[t._v("#")]),t._v(" 下拉刷新事件")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是下拉刷新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是下拉刷新"}},[t._v("#")]),t._v(" 1.什么是下拉刷新")]),t._v(" "),a("p",[t._v("下拉刷新是移动端的专有名词，指的是通过手指在屏幕上的下拉滑动操作，从而重新加载页面数据的行为。")]),t._v(" "),a("h3",{attrs:{id:"_2-启用下拉刷新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-启用下拉刷新"}},[t._v("#")]),t._v(" 2.启用下拉刷新")]),t._v(" "),a("p",[t._v("启用下拉刷新有两种方式：\n1.全局开启下拉刷新\n在app.json的window节点中，将enablePullDownRefresh设置为true\n2.局部开启下拉刷新\n在页面的.json配置文件中，将enablePullDownRefresh设置为true")]),t._v(" "),a("p",[t._v("在实际开发中，推荐使用第2种方式，为需要的页面单独开启下拉刷新的效果")]),t._v(" "),a("h3",{attrs:{id:"_3-配置下拉刷新窗口的样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置下拉刷新窗口的样式"}},[t._v("#")]),t._v(" 3.配置下拉刷新窗口的样式")]),t._v(" "),a("p",[t._v("在全局或页面的.json配置文件中，通过backgroundColor和backgroundTextStyle来配置下拉刷新窗口的样式，其中：\nbackgroundColor用来配置下拉刷新窗口的背景颜色，仅支持16进制的颜色值\nbackgroundTextStyle用来配置下拉刷新loading的样式，仅支持dark和light")]),t._v(" "),a("h3",{attrs:{id:"_5-停止下拉刷新的效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-停止下拉刷新的效果"}},[t._v("#")]),t._v(" 5.停止下拉刷新的效果")]),t._v(" "),a("p",[t._v("当处理完下拉刷新后，下拉刷新的loading效果会一直显示，不会主动消失，所以需要手动隐藏loading效果。此时，调用wx.stopPullDownRefresh()可以停止当前页面的下拉刷新")]),t._v(" "),a("h2",{attrs:{id:"上拉触底事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上拉触底事件"}},[t._v("#")]),t._v(" 上拉触底事件")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是上拉触底"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是上拉触底"}},[t._v("#")]),t._v(" 1.什么是上拉触底")]),t._v(" "),a("p",[t._v("上拉触底是移动端的专有名词，通过手指在屏幕上的上拉滑动操作，从而加载更多数据的行为。")]),t._v(" "),a("h3",{attrs:{id:"_2-监听页面的上拉触底事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-监听页面的上拉触底事件"}},[t._v("#")]),t._v(" 2.监听页面的上拉触底事件")]),t._v(" "),a("p",[t._v("在页面的.js文件中通过onReachBottom()函数即可监听当前页面的上拉触底事件。")]),t._v(" "),a("h3",{attrs:{id:"_3-配置上拉触底距离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置上拉触底距离"}},[t._v("#")]),t._v(" 3.配置上拉触底距离")]),t._v(" "),a("p",[t._v("上拉触底距离指的是触发上拉触底事件时，滚动条距离页面底部的距离。")]),t._v(" "),a("h2",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是生命周期"}},[t._v("#")]),t._v(" 1.什么是生命周期")]),t._v(" "),a("p",[t._v("生命周期是指一个对象从创建->运行->销毁的整个阶段，强调的是一个时间段")]),t._v(" "),a("h3",{attrs:{id:"_2-生命周期的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-生命周期的分类"}},[t._v("#")]),t._v(" 2.生命周期的分类")]),t._v(" "),a("p",[t._v("在小程序中，生命周期分为两类，分别是：\n1.应用生命周期\n特指小程序从启动->运行->销毁的过程")]),t._v(" "),a("p",[t._v("2.页面生命周期\n特指小程序中，每个页面的加载->渲染->销毁的过程")]),t._v(" "),a("p",[t._v("其中页面的生命周期范围较小，应用程序的生命周期范围较大")]),t._v(" "),a("h3",{attrs:{id:"_3-什么是生命周期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-什么是生命周期函数"}},[t._v("#")]),t._v(" 3.什么是生命周期函数")]),t._v(" "),a("p",[t._v("生命周期函数：是由小程序框架提供的内置函数，会伴随着生命周期，自动按次序执行")]),t._v(" "),a("p",[t._v("生命周期函数的作用：允许程序员在特定的时间点，执行某些特定的操作。例如，页面刚加载的时候，可以在onLoad生命周期中函数中初始化页面的数据。")]),t._v(" "),a("p",[t._v("注意：生命周期强调的是时间段，生命周期函数强调的是时间点。")]),t._v(" "),a("h3",{attrs:{id:"_4-生命周期函数的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-生命周期函数的分类"}},[t._v("#")]),t._v(" 4.生命周期函数的分类")]),t._v(" "),a("p",[t._v("小程序中的生命周期函数分为两类，分别是：\n1.应用的生命周期函数\n特指小程序从启动->运行->销毁期间一次调用的那些函数")]),t._v(" "),a("p",[t._v("2.页面的生命周期函数\n特指小程序中，每个页面从加载->渲染->销毁期间依次调用的那些函数")]),t._v(" "),a("p",[t._v("5.应用生命周期函数\n小程序的应用生命周期函数需要在app.js中进行声明")]),t._v(" "),a("p",[t._v("6.页面的生命周期函数\n小程序的页面生命周期函数需要在页面的.js文件中进行生命")]),t._v(" "),a("h2",{attrs:{id:"wxs脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxs脚本"}},[t._v("#")]),t._v(" wxs脚本")]),t._v(" "),a("h3",{attrs:{id:"概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),a("h4",{attrs:{id:"_1-什么是wxs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是wxs"}},[t._v("#")]),t._v(" 1.什么是wxs")]),t._v(" "),a("p",[t._v("WXS是小程序独有的一套脚本语言，结合WXML，可以构建出页面的结构。")]),t._v(" "),a("h4",{attrs:{id:"_2-wxs的应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-wxs的应用场景"}},[t._v("#")]),t._v(" 2.wxs的应用场景")]),t._v(" "),a("p",[t._v("wxml中无法调用在页面的.js中定义的函数，但是，wxml中可以调用wxs中定义的函数。因此，小程序中wxs的典型应用场景就是“过滤器”")]),t._v(" "),a("h3",{attrs:{id:"基础语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础语法"}},[t._v("#")]),t._v(" 基础语法")]),t._v(" "),a("h4",{attrs:{id:"_1-内嵌wxs脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-内嵌wxs脚本"}},[t._v("#")]),t._v(" 1.内嵌wxs脚本")]),t._v(" "),a("p",[t._v("wxs代码可以编写在wxml文件中的"),a("code",[t._v("<wxs>")]),t._v("标签内，就像javascript代码可以编写在html文件中的"),a("code",[t._v("<script>")]),t._v("标签内一样")]),t._v(" "),a("p",[t._v("wxml文件中的每个"),a("code",[t._v("<wxs></wxs>")]),t._v("标签，必须提供module属性，用来指定当前wxs的模块名称，方便在wxml中访问模块中的成员")]),t._v(" "),a("h4",{attrs:{id:"_2-定义外联的wxs脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-定义外联的wxs脚本"}},[t._v("#")]),t._v(" 2.定义外联的wxs脚本")]),t._v(" "),a("p",[t._v("wxs代码还可以编写在以.wxs为后缀名的文件内，就像javascript代码可以编写在以.js为后缀名的文件中一样")]),t._v(" "),a("h4",{attrs:{id:"_3-不能作为组件的事件回调"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-不能作为组件的事件回调"}},[t._v("#")]),t._v(" 3.不能作为组件的事件回调")]),t._v(" "),a("p",[t._v("wxs的典型应用场景就是“过滤器”，经常配合Mustache语法进行使用\n但是，在wxs中定义的函数不能作为组件的事件回调函数")]),t._v(" "),a("h4",{attrs:{id:"_4-隔离性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-隔离性"}},[t._v("#")]),t._v(" 4.隔离性")]),t._v(" "),a("p",[t._v("隔离性是wxs的运行环境和其他js代码是隔离的")]),t._v(" "),a("h2",{attrs:{id:"自定义组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义组件"}},[t._v("#")]),t._v(" 自定义组件")]),t._v(" "),a("h3",{attrs:{id:"组件的创建与引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件的创建与引用"}},[t._v("#")]),t._v(" 组件的创建与引用")]),t._v(" "),a("h4",{attrs:{id:"_1-创建组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建组件"}},[t._v("#")]),t._v(" 1.创建组件")]),t._v(" "),a("p",[t._v("1）在项目的根目录中，鼠标右键，创建components->test文件夹\n2）在新建的components->test文件夹上，鼠标右键，点击“新建Component”\n3）键入组件的名称之后回车，会自动生成组件对应的4个文件，后缀名分别为.js，.json，.wxml和.wxss")]),t._v(" "),a("h4",{attrs:{id:"_2-引用组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-引用组件"}},[t._v("#")]),t._v(" 2.引用组件")]),t._v(" "),a("p",[t._v("组件的引用方式分为“局部引用”和“全局引用”，顾名思义：")]),t._v(" "),a("ul",[a("li",[t._v("局部引用：组件只能在当前被引用的页面内使用")]),t._v(" "),a("li",[t._v("全局引用：组件可以在每个小程序页面中使用")])]),t._v(" "),a("h4",{attrs:{id:"_3-局部引用组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-局部引用组件"}},[t._v("#")]),t._v(" 3.局部引用组件")]),t._v(" "),a("p",[t._v("在页面的.json配置文件中引用组件的方式，叫做“局部引用”")]),t._v(" "),a("h4",{attrs:{id:"_4-全局引用组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-全局引用组件"}},[t._v("#")]),t._v(" 4.全局引用组件")]),t._v(" "),a("p",[t._v("在app.json全局配置文件中引用组件的方式，叫做“全局引用”。")]),t._v(" "),a("h4",{attrs:{id:"_5-全局引用vs局部引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-全局引用vs局部引用"}},[t._v("#")]),t._v(" 5.全局引用vs局部引用")]),t._v(" "),a("p",[t._v("根据组件的使用频率和范围，来选择合适的引用方式")]),t._v(" "),a("ul",[a("li",[t._v("如果某组件在多个页面中经常被用到，建议进行“全局引用”")]),t._v(" "),a("li",[t._v("如果某个组件只在特定的页面中被用到，建议进行“局部引用”")])]),t._v(" "),a("h4",{attrs:{id:"_6-组件和页面的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-组件和页面的区别"}},[t._v("#")]),t._v(" 6.组件和页面的区别")]),t._v(" "),a("p",[t._v("从表面来看，组件和页面都是由.js、.json、.wxml和.wxss这四个文件组成的。但是，组件和页面的.js与.json文件有明显的不同：")]),t._v(" "),a("ul",[a("li",[t._v("组件的.json文件中需要声明“component”：true属性")]),t._v(" "),a("li",[t._v("组件的.js文件中调用的是Component()函数")]),t._v(" "),a("li",[t._v("组件的事件处理函数需要定义到methods节点中")])]),t._v(" "),a("h2",{attrs:{id:"样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式"}},[t._v("#")]),t._v(" 样式")]),t._v(" "),a("h3",{attrs:{id:"_1-组件样式隔离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-组件样式隔离"}},[t._v("#")]),t._v(" 1.组件样式隔离")]),t._v(" "),a("p",[t._v("默认情况下，自定义组件的样式只对当前组件生效，不会影响到组件之外的UI结构\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230904233347150","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230904233347150.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("好处：防止外界的样式影响组件内部的样式 ；防止组件的样式破坏外界的样式")]),t._v(" "),a("h3",{attrs:{id:"_2-组件样式隔离的注意点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-组件样式隔离的注意点"}},[t._v("#")]),t._v(" 2.组件样式隔离的注意点")]),t._v(" "),a("p",[t._v("app.wxss中的全局样式对组件无效\n只有class选择器会有样式隔离的效果，id选择器、属性选择器、标签选择器不受样式隔离的影响")]),t._v(" "),a("h3",{attrs:{id:"_3-修改组件的样式隔离选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改组件的样式隔离选项"}},[t._v("#")]),t._v(" 3.修改组件的样式隔离选项")]),t._v(" "),a("p",[t._v("默认情况下，自定义组件的样式隔离特性能够防止组件内外样式互相干扰的问题。但有时，我们希望在外界能够控制组件内部的样式，此时，可以通过styleIsolation修改组件的样式隔离选项")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230904234322033","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230904234322033.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"数据、方法和属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据、方法和属性"}},[t._v("#")]),t._v(" 数据、方法和属性")]),t._v(" "),a("h3",{attrs:{id:"_1-data数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-data数据"}},[t._v("#")]),t._v(" 1.data数据")]),t._v(" "),a("p",[t._v("在小程序组件中，用于组件模板渲染的私有数据，需要定义到data节点中")]),t._v(" "),a("h3",{attrs:{id:"_2-methods方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-methods方法"}},[t._v("#")]),t._v(" 2.methods方法")]),t._v(" "),a("p",[t._v("在小程序中，事件处理函数和自定义方法需要定义到methods节点中")]),t._v(" "),a("h3",{attrs:{id:"_3-properties属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-properties属性"}},[t._v("#")]),t._v(" 3.properties属性")]),t._v(" "),a("p",[t._v("在小程序组件中，properties是组件的对外属性，用来接收外界传递到组件中的数据")]),t._v(" "),a("h3",{attrs:{id:"_4-data和properties的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-data和properties的区别"}},[t._v("#")]),t._v(" 4.data和properties的区别")]),t._v(" "),a("p",[t._v("在小程序中，properties属性和data数据的用法相同，它们都是可读可写的，只不过：")]),t._v(" "),a("ul",[a("li",[t._v("data更倾向于存储组件的私有数据")]),t._v(" "),a("li",[t._v("properties更倾向于存储外界传递到组件中的数据")])]),t._v(" "),a("p",[t._v("本质上是一样的，可读可写")]),t._v(" "),a("h3",{attrs:{id:"_5-使用setdata修改properties的值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-使用setdata修改properties的值"}},[t._v("#")]),t._v(" 5.使用setData修改properties的值")]),t._v(" "),a("p",[t._v("由于data数据和properties属性在本质上没有任何区别，因此properties属性的值也可以用于页面渲染，或使用setData为properties中的属性重新赋值")]),t._v(" "),a("h2",{attrs:{id:"数据监听器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据监听器"}},[t._v("#")]),t._v(" 数据监听器")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是数据监听器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是数据监听器"}},[t._v("#")]),t._v(" 1.什么是数据监听器")]),t._v(" "),a("p",[t._v("数据监听器用于监听和响应任何属性和数据字段的变化，从而执行特定的操作。它的作用类似于Vue中的watch侦听器。在小程序组件中，数据监听器的基本语法如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("observer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'字段A,字段B'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("字段"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v("的新值，字段"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),t._v("的新值")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//do something")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"_2-数据监听器的基本用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据监听器的基本用法"}},[t._v("#")]),t._v(" 2.数据监听器的基本用法")]),t._v(" "),a("p",[t._v("组件的UI结构如下：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("// 组件的UI结构如下：\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{n1}} + {{n2}} = {{sum}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("mini"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addN1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("n1自增"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("mini"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addN2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("n2自增"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("组件的.js文件如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("observers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'n1, n2'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newN1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newN2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" newN1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" newN2\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"_3-监听对象属性的变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-监听对象属性的变化"}},[t._v("#")]),t._v(" 3.监听对象属性的变化")]),t._v(" "),a("p",[t._v("数据监听器支持监听对象中单个或多个属性的变化，示例语法如下：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Component({\n\tobservers: {\n\t\t'对象.属性A,对象.属性B': function(属性A的新值，属性B的新值) {\n\t\t// do something...\n\t}\n})\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"_5-监听对象中所有属性的变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-监听对象中所有属性的变化"}},[t._v("#")]),t._v(" 5.监听对象中所有属性的变化")]),t._v(" "),a("p",[t._v("如果某个对象中需要被监听的属性太多，为了方便，可以使用通配符**来监听对象中所有属性的变化，示例代码如下 ：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听rgb对象上r, g, b三个子属性的变化")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'rgb.**'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 为data中的fullColor重新赋值")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("fullColor")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("g"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h2",{attrs:{id:"纯数据字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#纯数据字段"}},[t._v("#")]),t._v(" 纯数据字段")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是纯数据字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是纯数据字段"}},[t._v("#")]),t._v(" 1.什么是纯数据字段")]),t._v(" "),a("p",[t._v("概念：纯数据字段指的是那些不用于界面渲染的data字段。")]),t._v(" "),a("p",[t._v("应用场景：例如有些情况下，某些data中的字段既不会展示在界面上，也不会传递给其他组件，仅仅在当前组件内部使用。带有这种特性的data字段适合被设置为纯数据字段。")]),t._v(" "),a("p",[t._v("好处：纯数据字段有助于提升页面更新的性能")]),t._v(" "),a("h3",{attrs:{id:"_2-使用规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用规则"}},[t._v("#")]),t._v(" 2.使用规则")]),t._v(" "),a("p",[t._v("在Component构造器的options节点中，指定pureDatePattern为一个正则表达式，字段名符合这个正则表达式的字段将成为纯数据字段，示例如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("option")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//指定所有_开头的数据字段为纯数据字段")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pureDataPattern")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//普通数据字段")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_b")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//纯数据字段")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h2",{attrs:{id:"组件的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件的生命周期"}},[t._v("#")]),t._v(" 组件的生命周期")]),t._v(" "),a("h3",{attrs:{id:"_1-组件全部的生命周期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-组件全部的生命周期函数"}},[t._v("#")]),t._v(" 1.组件全部的生命周期函数")]),t._v(" "),a("p",[t._v("小程序组件可用的全部生命周期如下表所示：\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230905214635914","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230905214635914.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"_2-组件主要的生命周期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-组件主要的生命周期函数"}},[t._v("#")]),t._v(" 2.组件主要的生命周期函数")]),t._v(" "),a("p",[t._v("在小程序组件中，最重要的生命周期函数有3个，分别是created、attached、detached。它们各自的特点如下：\n1）组件实例刚好被创建好的时候，creates生命周期函数会被触发")]),t._v(" "),a("ul",[a("li",[t._v("此时还不能调用setData")]),t._v(" "),a("li",[t._v("通常在这个生命周期函数中，只应用于给组件中的this添加一些自定义的属性字段")])]),t._v(" "),a("p",[t._v("2）在组件完全初始化完毕、进入页面节点树后，attached生命周期函数会被触发")]),t._v(" "),a("ul",[a("li",[t._v("此时，this.data已被初始化完毕")]),t._v(" "),a("li",[t._v("这个生命周期很有用，绝大多数初始化的工作可以在这个时机进行（例如请求获取初始数据）")])]),t._v(" "),a("p",[t._v("3）在组件离开页面节点树后，detached生命周期函数会被触发")]),t._v(" "),a("ul",[a("li",[t._v("退出一个页面时，会触发页面内每个自定义组件的detached生命周期函数")]),t._v(" "),a("li",[t._v("此时适合做一些请理性质的工作")])]),t._v(" "),a("h3",{attrs:{id:"_3-lifetimes节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-lifetimes节点"}},[t._v("#")]),t._v(" 3.lifetimes节点")]),t._v(" "),a("p",[t._v("在小程序组件中，生命周期函数可以直接定义在Component构造器的第一级参数中，可以在lifetimes字段内进行声明（这是推荐的方式，其优先级最高）。示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("lifetimes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"create~~~"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attached")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      \tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"attached~~~"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h2",{attrs:{id:"组件所在页面的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件所在页面的生命周期"}},[t._v("#")]),t._v(" 组件所在页面的生命周期")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是组件所在页面的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是组件所在页面的生命周期"}},[t._v("#")]),t._v(" 1.什么是组件所在页面的生命周期")]),t._v(" "),a("p",[t._v("有时，自定义组件的行为依赖于页面状态的变化，此时就需要用到组件所在页面的生命周期。")]),t._v(" "),a("p",[t._v("例如：每当触发页面的show生命周期函数的时候，我们希望能够重新生成一个随机的RGB颜色值。\n在自定义组件中，组件所在页面的生命周期函数有如下3个，分别是：\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230905222710597","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230905222710597.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"_2-pagelifetimes节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-pagelifetimes节点"}},[t._v("#")]),t._v(" 2.pageLifetimes节点")]),t._v(" "),a("p",[t._v("组件所在页面的生命周期函数，需要定义在pageLifetimes节点中，示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pageLifetimes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("hide")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("resize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"_3-生成随机的rgb颜色值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-生成随机的rgb颜色值"}},[t._v("#")]),t._v(" 3.生成随机的RGB颜色值")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_randomColor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_rgb")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("r")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("g")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("b")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pageLifetimes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"show"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_randomColor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h2",{attrs:{id:"插槽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插槽"}},[t._v("#")]),t._v(" 插槽")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是插槽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是插槽"}},[t._v("#")]),t._v(" 1.什么是插槽")]),t._v(" "),a("p",[t._v("在自定义组件的wxml结构中，可以提供一个"),a("code",[t._v("<slot>")]),t._v("节点（插槽），用于承载组件使用者提供的wxml结构.\n"),a("img",{staticClass:"lazy",attrs:{alt:"image-20230905224312664","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230905224312664.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"_2-单个插槽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-单个插槽"}},[t._v("#")]),t._v(" 2.单个插槽")]),t._v(" "),a("p",[t._v("在小程序中，默认每个自定义组件中只允许使用一个"),a("code",[t._v("<slot>")]),t._v("进行占位，这种个数上的限制叫做单个插槽")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 组件的封装者 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("这里是组件的内部结构"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("slot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("slot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 组件的使用者 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("my-test4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("这是通过插槽填充的内容"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("my-test4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h3",{attrs:{id:"_3-启用多个插槽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-启用多个插槽"}},[t._v("#")]),t._v(" 3.启用多个插槽")]),t._v(" "),a("p",[t._v("在小程序的自定义组件中，需要使用多<>插槽时，可以在组件的.js文件中，通过如下方式进行启用。示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("multipleSlots")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在组件定义时的选项中启用多slot文件")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"_4-定义多个插槽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-定义多个插槽"}},[t._v("#")]),t._v(" 4.定义多个插槽")]),t._v(" "),a("p",[t._v("在使用带有多个插槽的自定义组件时，需要用slot属性来将节点插入到不同的"),a("code",[t._v("<slot>")]),t._v("中。示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("my-test4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("slot")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("before"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("这是通过插槽填充的内容"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("slot")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("after"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("~~~~~~~~~~~~"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("my-test4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"父子组件之间的通信"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#父子组件之间的通信"}},[t._v("#")]),t._v(" 父子组件之间的通信")]),t._v(" "),a("h3",{attrs:{id:"_1-父子组件之间通信的3种方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-父子组件之间通信的3种方式"}},[t._v("#")]),t._v(" 1.父子组件之间通信的3种方式")]),t._v(" "),a("p",[t._v("1）属性绑定")]),t._v(" "),a("ul",[a("li",[t._v("用于父组件向子组件的指定属性设置数据，仅能设置JSON兼容的数据")])]),t._v(" "),a("p",[t._v("2）事件绑定")]),t._v(" "),a("ul",[a("li",[t._v("用于子组件向父组件传递数据，可以传递任意数据")])]),t._v(" "),a("p",[t._v("3）获取组件实例")]),t._v(" "),a("ul",[a("li",[t._v("父组件还可以通过this.selectComponent()获取子组件实例对象")]),t._v(" "),a("li",[t._v("这样就可以直接访问子组件的任意数据和方法")])]),t._v(" "),a("h3",{attrs:{id:"_2-属性绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-属性绑定"}},[t._v("#")]),t._v(" 2.属性绑定")]),t._v(" "),a("p",[t._v("属性绑定用于实现父向子传值，而且只能传递普通类型的数据，无法将方法传递给子组件。父组件的示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("my-test5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{count}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("my-test5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("~~~~~~~~~~~~~~"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("父组件中，count值是：{{count}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("子组件在properties节点种声明对应的属性并使用。示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("Component({\n  /**\n   * 组件的属性列表\n   */\n  properties: {\n    count: Number\n  },\n})\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("子组件中，count值是：{{count}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h3",{attrs:{id:"_3-事件绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-事件绑定"}},[t._v("#")]),t._v(" 3.事件绑定")]),t._v(" "),a("p",[t._v("事件绑定用于实现子向父传值，可以传递任何类型的数据。使用步骤如下：\n1）在父组件的.js中，定义一个函数，这个函数即将通过自定义事件的形式，传递给子组件")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("syncCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// console.log("syncCount~~~")')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(e.detail.value)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("2）在父组件的wxml中，通过自定义事件的形式，将步骤1中定义的函数引用，传递给子组件")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("my-test5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{count}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bind:")]),t._v("sync")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("syncCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("my-test5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("3）在子组件的.js中，通过调用this.triggerEvent('自定义事件名称'， {/"),a("em",[t._v("参数对象")]),t._v("/})，将数据发送到父组件")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发自定义事件，将数值同步给父组件")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("triggerEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sync'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("4）在父组件的js中，通过e.detail获取到子组件传递过来的数据")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("syncCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// console.log("syncCount~~~")')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(e.detail.value)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"_4-获取组件实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-获取组件实例"}},[t._v("#")]),t._v(" 4.获取组件实例")]),t._v(" "),a("p",[t._v('可在父组件里调用this.selectComponent("id或class选择器")，获取子组件的实例对象，从而直接访问子组件的任意数据和方法。调用时需要传入一个选择器，例如this.selectComponent(".my-component")')]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("my-test5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{count}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bind:")]),t._v("sync")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("syncCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("customA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("my-test5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bind:")]),t._v("tap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("获取子组件的实例对象"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" child "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.customA'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(child)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// child.setData({")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   count: child.properties.count + 1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// })")]),t._v("\n    child"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h2",{attrs:{id:"behaviors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#behaviors"}},[t._v("#")]),t._v(" behaviors")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是behaviors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是behaviors"}},[t._v("#")]),t._v(" 1.什么是behaviors")]),t._v(" "),a("p",[t._v("behaviors是小程序中，用于实现组件间代码共享的特性，类似于Vue.js中的“mixins”。")]),t._v(" "),a("h3",{attrs:{id:"_2-behaviors的工作方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-behaviors的工作方式"}},[t._v("#")]),t._v(" 2.behaviors的工作方式")]),t._v(" "),a("p",[t._v("每个behaviors可以包含一组属性、数据、生命周期函数和方法。组件引用它时，它的属性、数据和方法会被合并到组件中。\n每个组件可以引用多个behaviors，behaviors也可以引用其他behaviors")]),t._v(" "),a("h3",{attrs:{id:"_3-创建behaviors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建behaviors"}},[t._v("#")]),t._v(" 3.创建behaviors")]),t._v(" "),a("p",[t._v("调用Behaviors(Object object)方法即可创建一个共享的behaviors实例对象，供所有的组件使用。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Behavior")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zs'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("properties")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"_4-导入并使用behavior"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-导入并使用behavior"}},[t._v("#")]),t._v(" 4.导入并使用behavior")]),t._v(" "),a("p",[t._v("在组件中，使用require()方法导入需要的behavior，挂载后即可访问behavior中的数据或方法，示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myBehavior "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../behaviors/my-behaviors'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("behaviors")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("myBehavior"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"_5-behavior中所有可用的节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-behavior中所有可用的节点"}},[t._v("#")]),t._v(" 5.behavior中所有可用的节点")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230906174741026","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230906174741026.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"_6-同名字段的覆盖和组合规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-同名字段的覆盖和组合规则"}},[t._v("#")]),t._v(" 6.同名字段的覆盖和组合规则*")]),t._v(" "),a("p",[t._v("组件和它所引用的behavior中可以包含同名的字段，此时可以参考如下3种同名时的处理规则：\n1）同名的数据字段（data）\n2）同名的属性（properties）或方法（methods）\n3）同名的生命周期函数")]),t._v(" "),a("h2",{attrs:{id:"总结-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结-2"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("h3",{attrs:{id:"_1-能够创建并引用组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-能够创建并引用组件"}},[t._v("#")]),t._v(" 1.能够创建并引用组件")]),t._v(" "),a("ul",[a("li",[t._v("全局引用、局部引用、usingComponents")])]),t._v(" "),a("h3",{attrs:{id:"_2-能够知道如何修改组件的样式隔离选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-能够知道如何修改组件的样式隔离选项"}},[t._v("#")]),t._v(" 2.能够知道如何修改组件的样式隔离选项")]),t._v(" "),a("ul",[a("li",[t._v("options->stylelsolation(isolated, apply-shared, shared)")])]),t._v(" "),a("h3",{attrs:{id:"_3-能够知道如何定义和使用纯数据字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-能够知道如何定义和使用纯数据字段"}},[t._v("#")]),t._v(" 3.能够知道如何定义和使用纯数据字段")]),t._v(" "),a("ul",[a("li",[t._v("observers")])]),t._v(" "),a("h3",{attrs:{id:"_4-能够知道如何定义和使用纯数据字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-能够知道如何定义和使用纯数据字段"}},[t._v("#")]),t._v(" 4.能够知道如何定义和使用纯数据字段")]),t._v(" "),a("ul",[a("li",[t._v("options->pureDatePattern")])]),t._v(" "),a("h3",{attrs:{id:"_5-能够知道实现组件父子通信有哪3种方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-能够知道实现组件父子通信有哪3种方式"}},[t._v("#")]),t._v(" 5.能够知道实现组件父子通信有哪3种方式")]),t._v(" "),a("p",[t._v("属性绑定、事件绑定、this.selectComponent('id或class选择器')")]),t._v(" "),a("h3",{attrs:{id:"_6-能够知道如何定义和使用behavior"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-能够知道如何定义和使用behavior"}},[t._v("#")]),t._v(" 6.能够知道如何定义和使用behavior")]),t._v(" "),a("h2",{attrs:{id:"使用npm包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用npm包"}},[t._v("#")]),t._v(" 使用npm包")]),t._v(" "),a("h3",{attrs:{id:"小程序对npm的支持与限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序对npm的支持与限制"}},[t._v("#")]),t._v(" 小程序对npm的支持与限制")]),t._v(" "),a("p",[t._v("目前，小程序中已经支持使用npm安装第三方包，从而来提高小程序的开发效率。但是，在小程序中使用npm包有如下3个限制：\n1）不支持依赖于node.js内置库的包\n2）不支持依赖于浏览器内置对象的包\n3）不支持依赖于c++插件的包")]),t._v(" "),a("p",[t._v("总结：虽然npm上的包有千千万，但是能供小程序使用的包却为数不多")]),t._v(" "),a("h3",{attrs:{id:"vant-weapp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vant-weapp"}},[t._v("#")]),t._v(" Vant Weapp")]),t._v(" "),a("h4",{attrs:{id:"_1-什么是vant-weapp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是vant-weapp"}},[t._v("#")]),t._v(" 1.什么是Vant Weapp")]),t._v(" "),a("p",[t._v("Vant Weapp是有赞前端团队开源的一套小程序UI组件库，助力开发者快速搭建小程序应用。它所使用的是MIT开源许可协议，对商业使用比较友好。")]),t._v(" "),a("h4",{attrs:{id:"_2-安装vant组件库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装vant组件库"}},[t._v("#")]),t._v(" 2.安装Vant组件库")]),t._v(" "),a("p",[t._v("在小程序项目中，安装vant组件库主要分为如下3步：\n1）通过npm安装（建议指定版本为@1.3.3)\n2）构建npm包\n3）修改app.json")]),t._v(" "),a("p",[t._v("https://youzan.github.io/vant-weapp/")]),t._v(" "),a("h4",{attrs:{id:"_3-使用vant组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用vant组件"}},[t._v("#")]),t._v(" 3.使用Vant组件")]),t._v(" "),a("p",[t._v("安装完Vant组件库之后，可以在app.json的usingComponents节点引入需要的组件，即可在wxml中直接使用组件。示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usingComponents"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"van-button"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vant/weapp/button/index"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("default"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("默认按钮"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("主要按钮"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("信息按钮"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("warning"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("警告按钮"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("danger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("危险按钮"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h4",{attrs:{id:"_4-定制全局主题样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-定制全局主题样式"}},[t._v("#")]),t._v(" 4.定制全局主题样式")]),t._v(" "),a("p",[t._v("Vant Weapp使用CSS变量来实现定制主题。关于CSS变量的基本用法，请参考MDN文档：")]),t._v(" "),a("p",[t._v("在app.wxss中，写入css变量，即可对全局生效：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("page")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--button-danger-background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #c00000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--button-danger-border-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #D60000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--button-primary-background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #13A7A0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--button-primary-border-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #15B4AA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h2",{attrs:{id:"api-promise化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-promise化"}},[t._v("#")]),t._v(" API Promise化")]),t._v(" "),a("h3",{attrs:{id:"_1-基于回调函数的异步api的缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-基于回调函数的异步api的缺点"}},[t._v("#")]),t._v(" 1.基于回调函数的异步API的缺点")]),t._v(" "),a("p",[t._v("默认情况下，小程序官方提供的异步API都是基于回调函数实现的，例如，网络请求的API需要按照如下的方法调用：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//请求成功的回调函数")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fail")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//请求失败的回调函数")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//请求完成的回调函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("缺点：容易造成回调地狱的问题，代码的可读性、维护性差！")]),t._v(" "),a("h3",{attrs:{id:"_2-什么是api-promise化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-什么是api-promise化"}},[t._v("#")]),t._v(" 2.什么是API Promise化")]),t._v(" "),a("p",[t._v("API Promise化，指的是通过额外的配置，将官方提供的、基于回调函数的异步API，升级改造为基于API Promise的异步API，从而提高代码的可读性、维护性，避免回调地狱的问题。")]),t._v(" "),a("h3",{attrs:{id:"_3-实现api-promise化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-实现api-promise化"}},[t._v("#")]),t._v(" 3.实现API Promise化")]),t._v(" "),a("p",[t._v("在小程序中，实现API Promise化主要依赖于miniprogram-api-promise这个第三方的npm包。它的安装和使用步骤如下：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm i --save miniprogram-api-promise@1.0.4\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("promisifyAll"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'miniprogram-api-promise'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" wxp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("promisifyAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wxp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("注意：每次添加新第三方库都要删除miniprogram_npm再构建npm")]),t._v(" "),a("h3",{attrs:{id:"_4-调用promise化之后的异步api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-调用promise化之后的异步api"}},[t._v("#")]),t._v(" 4.调用promise化之后的异步API")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://applet-base-api-t.itheima.net/api/get'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"全局数据共享"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局数据共享"}},[t._v("#")]),t._v(" 全局数据共享")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是全局数据共享"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是全局数据共享"}},[t._v("#")]),t._v(" 1.什么是全局数据共享")]),t._v(" "),a("p",[t._v("全局数据共享（又叫做：状态管理）是为了解决组件之间数据共享的问题。")]),t._v(" "),a("p",[t._v("开发中常用的全局数据共享方案有：Vuex、Redux、Mobx等。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230906224900577","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230906224900577.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"_2-小程序中的全局数据共享方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-小程序中的全局数据共享方案"}},[t._v("#")]),t._v(" 2.小程序中的全局数据共享方案")]),t._v(" "),a("p",[t._v("在小程序中，可使用mobx-miniprogram配合mobx-miniprogram-bindings实现全局数据共享。其中：")]),t._v(" "),a("ul",[a("li",[t._v("mobx-miniprogram用来创建Store实例对象")]),t._v(" "),a("li",[t._v("mobx-miniprogram-bindings用来把Store中的共享数据或方法，绑定到组件或页面中使用")])]),t._v(" "),a("h2",{attrs:{id:"mobx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mobx"}},[t._v("#")]),t._v(" MOBX")]),t._v(" "),a("h3",{attrs:{id:"_1-安装mobx相关的包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装mobx相关的包"}},[t._v("#")]),t._v(" 1.安装Mobx相关的包")]),t._v(" "),a("p",[t._v("在项目中运行如下命令，安装Mobx相关的包：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install --save mobx-miniprogram@4.13.2 mobx-miniprogram-bindings@1.2.1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("注意：Mobx相关的包安装完毕之后，记得删除miniprogram_npm目录后，重新构建npm。")]),t._v(" "),a("h3",{attrs:{id:"_2-创建mobx的store实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建mobx的store实例"}},[t._v("#")]),t._v(" 2.创建Mobx的Store实例")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在这个js文件中，专门用来创建store的实例对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx-miniprogram'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数据字段")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("numA")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("numB")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算属性")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("numA "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("numB\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// action 方法：用来修改store中的值")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("updateNum1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("numA "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" step\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("updateNum2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("numB "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" step\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("h3",{attrs:{id:"_3-将store中的成员绑定到页面中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-将store中的成员绑定到页面中"}},[t._v("#")]),t._v(" 3.将store中的成员绑定到页面中")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("createStoreBindings"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx-miniprogram-bindings'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../store/store'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * 生命周期函数--监听页面加载\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("storeBindings "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStoreBindings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("fields")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'numA'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'numB'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sum'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'updateNum1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * 生命周期函数--监听页面卸载\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onUnload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("storeBindings"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("destroyStoreBindings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h3",{attrs:{id:"_4-在页面上使用store中的成员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-在页面上使用store中的成员"}},[t._v("#")]),t._v(" 4.在页面上使用store中的成员")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{numA}} + {{numB}} = {{sum}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bind:")]),t._v("tap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btnHandler1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-step")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{1}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("numA +1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("danger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bind:")]),t._v("tap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btnHandler1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-step")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{-1}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("numA -1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("btnHandler1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(e)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNum1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"_5-将store中的成员绑定管到组件中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-将store中的成员绑定管到组件中"}},[t._v("#")]),t._v(" 5.将Store中的成员绑定管到组件中")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("storeBindingsBehavior"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx-miniprogram-bindings'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../store/store'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("behaviors")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("storeBindingsBehavior"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("storeBindings")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数据源")]),t._v("\n    store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("fields")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("numA")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'numA'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("numB")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'numB'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sum'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("updateNum2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'updateNum2'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("h3",{attrs:{id:"_6-在组件中使用store中的成员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-在组件中使用store中的成员"}},[t._v("#")]),t._v(" 6.在组件中使用store中的成员")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{numA}} + {{numB}} = {{sum}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bind:")]),t._v("tap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btnHandler2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-step")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{1}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("numB +1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("van-button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("danger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bind:")]),t._v("tap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btnHandler2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-step")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{-1}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("numB -1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("van-button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("btnHandler2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateNum2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"分包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分包"}},[t._v("#")]),t._v(" 分包")]),t._v(" "),a("h3",{attrs:{id:"_1-什么是分包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是分包"}},[t._v("#")]),t._v(" 1.什么是分包")]),t._v(" "),a("p",[t._v("分包指的是把一个完整的小程序项目，按照需求划分为不同的子包，在构建时打包成不同的分包，用户在使用时按需进行加载")]),t._v(" "),a("h3",{attrs:{id:"_2-分包的好处"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-分包的好处"}},[t._v("#")]),t._v(" 2.分包的好处")]),t._v(" "),a("p",[t._v("对小程序进行分包的好处主要有以下两点：")]),t._v(" "),a("ul",[a("li",[t._v("可以优化小程序首次启动的下载时间")]),t._v(" "),a("li",[t._v("在多团队共同开发时可以更好的解耦协作")])]),t._v(" "),a("h3",{attrs:{id:"_3-分包前项目的构成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-分包前项目的构成"}},[t._v("#")]),t._v(" 3.分包前项目的构成")]),t._v(" "),a("p",[t._v("分包前，小程序项目中所有的页面和资源都被打包到了一起，导致整个项目体积过大，影响小程序首次启动的下载时间")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230907125915192","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230907125915192.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"_4-分包后项目的构成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-分包后项目的构成"}},[t._v("#")]),t._v(" 4.分包后项目的构成")]),t._v(" "),a("p",[t._v("分包后，小程序项目由1个主包+多个分包组成：")]),t._v(" "),a("ul",[a("li",[t._v("主包：一般只包含项目的启动页面或TabBar页面、以及所有分包都需要用到的一些公共资源")]),t._v(" "),a("li",[t._v("分包：只包含和当前分包有关的页面和私有资源")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230907130229089","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230907130229089.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"_5-分包的加载规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-分包的加载规则"}},[t._v("#")]),t._v(" 5.分包的加载规则")]),t._v(" "),a("p",[t._v("1）在小程序启动时，默认会下载主包并启动主包内页面")]),t._v(" "),a("ul",[a("li",[t._v("tabBar页面需要放到主包中")])]),t._v(" "),a("p",[t._v("2）当用户进入分包内某个页面时，客户端会把对应分包下载下来，下载完成后再进行展示")]),t._v(" "),a("ul",[a("li",[t._v("非tabBar页面可以按照功能的不同，划分为不同的分包之后，进行按需下载")])]),t._v(" "),a("h3",{attrs:{id:"_6-分包的体积限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-分包的体积限制"}},[t._v("#")]),t._v(" 6.分包的体积限制")]),t._v(" "),a("p",[t._v("目前，小程序分包的大小有以下两个限制：")]),t._v(" "),a("ul",[a("li",[t._v("整个小程序所有分包大小不吃过16M（主包+所有分包）")]),t._v(" "),a("li",[t._v("单个分包/主包大小不能超过2M")])]),t._v(" "),a("p",[t._v("（图片放在云端）")]),t._v(" "),a("h3",{attrs:{id:"使用分包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用分包"}},[t._v("#")]),t._v(" 使用分包")]),t._v(" "),a("h4",{attrs:{id:"_1-配置方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置方法"}},[t._v("#")]),t._v(" 1.配置方法")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230907131006666","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230907131006666.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("注：可以起别名name")]),t._v(" "),a("h4",{attrs:{id:"_2-打包原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-打包原则"}},[t._v("#")]),t._v(" 2.打包原则")]),t._v(" "),a("p",[t._v("1）小程序会按subpackages的配置进行分包，subpackages之外的目录将被打包到主包中\n2）主包也可以有自己的pages（即最外层的pages字段）\n3）tabBar页面必须在主包内\n4）分包之间不能互相嵌套")]),t._v(" "),a("h4",{attrs:{id:"_3-引用原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-引用原则"}},[t._v("#")]),t._v(" 3.引用原则")]),t._v(" "),a("p",[t._v("1）主包无法引用分包内的私有资源\n2）分包之间不能相互引用私有资源\n3）分包可以引用主包内的公共资源")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230907132001219","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230907132001219.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"独立分包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#独立分包"}},[t._v("#")]),t._v(" 独立分包")]),t._v(" "),a("h4",{attrs:{id:"_1-什么是独立分包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是独立分包"}},[t._v("#")]),t._v(" 1.什么是独立分包")]),t._v(" "),a("p",[t._v("独立分包本质上也是分包，只不过它比较特殊，可以独立于主包和其他分包而单独运行。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230907132136322","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230907132136322.png",loading:"lazy"}})]),t._v(" "),a("h4",{attrs:{id:"_2-独立分包和普通分包的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-独立分包和普通分包的区别"}},[t._v("#")]),t._v(" 2.独立分包和普通分包的区别")]),t._v(" "),a("p",[t._v("最主要的区别：是否依赖于主包才能运行")]),t._v(" "),a("ul",[a("li",[t._v("普通分包必须依赖于主包才能运行")]),t._v(" "),a("li",[t._v("独立分包可以在不下载主包的情况下，独立运行")])]),t._v(" "),a("h4",{attrs:{id:"_3-独立分包的应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-独立分包的应用场景"}},[t._v("#")]),t._v(" 3.独立分包的应用场景")]),t._v(" "),a("p",[t._v("开发者可以按需，将某些具有一定功能独立性的页面配置到独立分包中，原因如下：")]),t._v(" "),a("ul",[a("li",[t._v("当小程序从普通分包页面启动时，需要首先下载主包")]),t._v(" "),a("li",[t._v("而独立分包不依赖于主包即可运行，可以很大程度上提升分包页面的启动速度")])]),t._v(" "),a("p",[t._v("注意：一个小程序可以有多个独立分包")]),t._v(" "),a("h4",{attrs:{id:"_4-独立分包的配置方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-独立分包的配置方法"}},[t._v("#")]),t._v(" 4.独立分包的配置方法")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230907132659026","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230907132659026.png",loading:"lazy"}})]),t._v(" "),a("h4",{attrs:{id:"_5-引用原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-引用原则"}},[t._v("#")]),t._v(" 5.引用原则")]),t._v(" "),a("p",[t._v("独立分包和普通分包以及主包之间，是互相隔绝的，不能相互引用彼此的资源！例如：\n1)主包无法引用独立分包内的私有资源\n2）独立分包之间，不能相互引用私有资源\n3）独立分包和普通分包之间，不能互相引用私有资源\n4）特别注意：独立分包中不能引用主包内的公共资源")]),t._v(" "),a("h3",{attrs:{id:"分包预下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分包预下载"}},[t._v("#")]),t._v(" 分包预下载")]),t._v(" "),a("h4",{attrs:{id:"_1-什么是分包预下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是分包预下载"}},[t._v("#")]),t._v(" 1.什么是分包预下载")]),t._v(" "),a("p",[t._v("分包预下载指的是：在进入小程序的某个页面时，由框架自动预下载可能需要的分包，从而提升进入后续分包页面时的启动速度。")]),t._v(" "),a("h4",{attrs:{id:"_2-配置分包的预下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置分包的预下载"}},[t._v("#")]),t._v(" 2.配置分包的预下载")]),t._v(" "),a("p",[t._v("预下载分包的行为，会在进入指定的页面时触发。在app.json中，使用preloadRule节点定义分包的预下载规则，示例代码如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"preloadRule"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pages/contact/contact"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"packages"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"network"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wifi"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h4",{attrs:{id:"_3-分包预下载的限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-分包预下载的限制"}},[t._v("#")]),t._v(" 3.分包预下载的限制")]),t._v(" "),a("p",[t._v("同一个分包 中的页面享有共同的预下载大小限额2M，例如")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230907143048854","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230907143048854.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20230907143109445","data-src":"https://whh-bucket.oss-cn-guangzhou.aliyuncs.com/image/image-20230907143109445.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"自定义tabbar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义tabbar"}},[t._v("#")]),t._v(" 自定义tabBar")]),t._v(" "),a("h6",{attrs:{id:"_2-实现步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-实现步骤"}},[t._v("#")]),t._v(" 2.实现步骤")]),t._v(" "),a("p",[t._v("自定义tabBar分为三大步骤，分别是：\n1）配置信息\n2）添加tabBar代码文件\n3）编写tabBar代码")]),t._v(" "),a("h2",{attrs:{id:"总结-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结-3"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("1.能够知道如何安装和配置vant-weapp组件库")]),t._v(" "),a("p",[t._v("• 参考Vant的官方文档")]),t._v(" "),a("p",[t._v("2.能够知道如何使用Mobx实现全局数据共享\n• 安装包、创建Store、参考官方文档进行使用")]),t._v(" "),a("p",[t._v("3.能够知道如何对小程序的API进行Promise化\n• 安装包、在app.js进行配置")]),t._v(" "),a("p",[t._v("4.能够知道如何实现自定义tabBar效果")]),t._v(" "),a("p",[t._v("• Vant组件库 + 自定义组件 + 全局数据共享")])])}),[],!1,null,null,null);a.default=r.exports}}]);